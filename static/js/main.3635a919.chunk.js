(this["webpackJsonpreact-kibana-sort"]=this["webpackJsonpreact-kibana-sort"]||[]).push([[0],{26:function(e,t,s){},27:function(e,t,s){},35:function(e,t,s){"use strict";s.r(t);var a=s(3),c=s(0),r=s.n(c),n=s(8),l=s.n(n),o=(s(26),s.p,s(27),s(14)),i=s(15),u=s(16),h=s(9),b=s(20),d=s(19),j=s(11),m=s.n(j),O=s(39),f=s(40),g=s(38),x=s(41),S=s(42),v=function(e){Object(b.a)(s,e);var t=Object(d.a)(s);function s(e){var a;Object(i.a)(this,s),(a=t.call(this,e)).state={logs:{},k8sValue:"",scfValue:""};var c=localStorage.getItem("k8sLogs"),r=localStorage.getItem("scfLogs");return c&&(a.state.k8sValue=c),r&&(a.state.scfValue=r),a.handlek8sChange=a.handlek8sChange.bind(Object(h.a)(a)),a.handlescfChange=a.handlescfChange.bind(Object(h.a)(a)),a.submit=a.submit.bind(Object(h.a)(a)),a}return Object(u.a)(s,[{key:"handlek8sChange",value:function(e){this.setState({k8sValue:e.target.value})}},{key:"handlescfChange",value:function(e){this.setState({scfValue:e.target.value})}},{key:"getRandomColor",value:function(){return"hsl("+360*Math.random()+", 100%, 75%)"}},{key:"submit",value:function(e){localStorage.setItem("k8sLogs",this.state.k8sValue);var t=[];this.state.k8sValue&&(t=JSON.parse(this.state.k8sValue).responses[0].hits.hits);localStorage.setItem("scfLogs",this.state.scfValue);var s=[];this.state.scfValue&&(s=JSON.parse(this.state.scfValue).responses[0].hits.hits);s.forEach((function(e,t){e._source.log=e._source.msg;var s=m.a.utc(e.sort[0],"x");e._source.timeExact=s.local().format("YYYY-MM-DD HH:mm:ss.SSS"),e.sort[1]=t})),t.forEach((function(e,t){var s=e._source.log,a=/(\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.\d{3,6})/.exec(s),c=/(\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2},\d{3,6})/.exec(s);if(a&&a[1]){var r=a[1],n=m.a.utc(r,"YYYY-MM-DD[T]h:mm:ss.SSSSSS"),l=n.valueOf();e._source.timeExact=n.local().format("YYYY-MM-DD HH:mm:ss.SSS"),e.sort[0]=l,e.sort[1]=r}else if(c&&c[1]){var o=c[1],i=m.a.utc(o,"YYYY-MM-DD h:mm:ss,SSS"),u=i.valueOf();e._source.timeExact=i.local().format("YYYY-MM-DD HH:mm:ss.SSS"),e.sort[0]=u,e.sort[1]=t}else{var h=m.a.utc(e.sort[0],"x");e.doubtFull="[Doubtfull]",e._source.timeExact=h.local().format("YYYY-MM-DD HH:mm:ss.SSS"),e.sort[1]=t}e._source.component_name=e._source.kubernetes.container_name}));var a=[].concat(Object(o.a)(t),Object(o.a)(s));a.sort((function(e,t){return e.sort[0]<t.sort[0]?1:e.sort[0]>t.sort[0]?-1:e.sort[1]<t.sort[1]?1:e.sort[1]>t.sort[1]?-1:0})),this.setState({logs:a}),console.log(a)}},{key:"render",value:function(){var e;return Object.keys(this.state.logs).length&&(e=this.state.logs.map((function(e,t){return Object(a.jsx)(O.a,{children:Object(a.jsxs)(f.a,{children:[Object(a.jsxs)(f.a.Header,{children:[e.doubtFull,Object(a.jsx)("span",{className:"bubble red",children:e._source.component_name}),"\xa0",Object(a.jsx)("span",{className:"bubble green",children:e._source.timeExact}),"\xa0",Object(a.jsx)("span",{className:"bubble green",children:e.sort[0]})," \xa0",Object(a.jsx)("span",{className:"bubble blue",children:e._source.log})," \xa0"]}),Object(a.jsx)(O.a.Collapse,{eventKey:""+t,children:Object(a.jsx)(f.a.Body,{children:e._source.log})})]})},t)}))),Object(a.jsxs)("div",{className:"width-80",children:[Object(a.jsxs)(g.a,{className:"mb-3",children:[Object(a.jsx)(g.a.Prepend,{children:Object(a.jsx)(g.a.Text,{children:"KIBANA(K8S) Logs Object"})}),Object(a.jsx)(x.a,{as:"textarea","aria-label":"With textarea",value:this.state.k8sValue,onChange:this.handlek8sChange})]}),Object(a.jsxs)(g.a,{className:"mb-3",children:[Object(a.jsx)(g.a.Prepend,{children:Object(a.jsx)(g.a.Text,{children:"KIBANA(SCF) Logs Object"})}),Object(a.jsx)(x.a,{as:"textarea","aria-label":"With textarea",value:this.state.scfValue,onChange:this.handlescfChange})]}),Object(a.jsx)(S.a,{variant:"primary",onClick:this.submit,children:"Submit"}),e]})}}]),s}(c.Component);s(34);var p=function(){return Object(a.jsx)("div",{className:"App",children:Object(a.jsx)("header",{className:"App-header",children:Object(a.jsx)(v,{})})})};l.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(p,{})}),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.3635a919.chunk.js.map